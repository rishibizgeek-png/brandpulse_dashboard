<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BrandPulse — Analytics</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <style>
    :root{
      --bg:#101d23;
      --card:#182b34;
      --muted:#223c49;
      --accent:#0da6f2;
      --ai-bg:#223c49;
    }
    body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); color: #fff; }
  </style>
</head>
<body class="antialiased">

<div class="relative min-h-screen flex">
  <!-- Sidebar (master icons & layout consistent across pages) -->
  <aside class="fixed top-0 left-0 h-full w-72 bg-[var(--bg)] p-6 flex flex-col justify-between shadow-lg">
    <div class="flex flex-col gap-6">
      <h1 class="text-white text-2xl font-bold">BrandPulse</h1>

      <nav class="mt-4 flex flex-col gap-2">
        <!-- Home -->
        <a class="flex items-center gap-3 px-4 py-3 rounded-full text-white/70 hover:bg-[var(--muted)] hover:text-white" href="home.html">
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M3 11.5L12 4l9 7.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1z"/></svg>
          <span class="text-sm font-medium">Home</span>
        </a>

        <!-- Analytics (active) -->
        <a class="flex items-center gap-3 px-4 py-3 rounded-full bg-[var(--accent)] text-white" href="analytics.html">
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M3 13h4v8H3zM10 3h4v18h-4zM17 8h4v13h-4z"/></svg>
          <span class="text-sm font-medium">Analytics</span>
        </a>

        <!-- Social Listening -->
        <a class="flex items-center gap-3 px-4 py-3 rounded-full text-white/70 hover:bg-[var(--muted)] hover:text-white" href="social-listening.html">
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 1a9 9 0 0 0-9 9h2a7 7 0 1 1 7 7V1z"/></svg>
          <span class="text-sm font-medium">Social Listening</span>
        </a>

        <!-- Publishing -->
        <a class="flex items-center gap-3 px-4 py-3 rounded-full text-white/70 hover:bg-[var(--muted)] hover:text-white" href="publishing.html">
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 4h-3V2H8v2H5c-1.1 0-2 .9-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6c0-1.1-.9-2-2-2zM12 11H7V9h5v2zm5 4H7v-2h10v2z"/></svg>
          <span class="text-sm font-medium">Publishing</span>
        </a>
      </nav>
    </div>

    <!-- Settings + Profile pinned at bottom -->
    <div class="flex flex-col gap-2">
      <a class="flex items-center gap-3 px-4 py-3 rounded-full text-white/70 hover:bg-[var(--muted)] hover:text-white" href="settings.html">
        <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm10 3h-2.03a7.9 7.9 0 0 0-.45-1.08l1.44-1.44-1.41-1.41-1.44 1.44c-.34-.2-.7-.36-1.08-.45V2h-2v2.03c-.38.09-.74.25-1.08.45L13.72 3.04 12.31 4.45l1.44 1.44c-.2.34-.36.7-.45 1.08H10V8h2.03c.09.38.25.74.45 1.08L11.04 10.72 12.45 12.13l1.44-1.44c.34.2.7.36 1.08.45V16h2v-2.03c.38-.09.74-.25 1.08-.45l1.44 1.44 1.41-1.41-1.44-1.44c.2-.34.36-.7.45-1.08H22z"/></svg>
        <span class="text-sm font-medium">Settings</span>
      </a>

      <a class="flex items-center gap-3 px-4 py-3 rounded-full text-white/70 hover:bg-[var(--muted)] hover:text-white" href="profile.html">
        <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zM2 20a10 10 0 0 1 20 0z"/></svg>
        <span class="text-sm font-medium">Profile</span>
      </a>
    </div>
  </aside>

  <!-- Main content -->
  <main class="ml-72 flex-1 p-8">
    <!-- Header + filters -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-white text-3xl font-bold">Analytics</h1>
        <p class="text-white/70 mt-1">Overview of mentions, engagement, and AI insights</p>
      </div>

      <div class="flex items-center gap-3">
        <select class="rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm">
          <option>Last 7 Days</option>
          <option>Last 30 Days</option>
          <option>Last 90 Days</option>
        </select>
        <select class="rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm">
          <option>All Platforms</option>
          <option>Twitter</option>
          <option>Facebook</option>
          <option>LinkedIn</option>
        </select>
        <select class="rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm">
          <option>All Sentiments</option>
          <option>Positive</option>
          <option>Neutral</option>
          <option>Negative</option>
        </select>
        <select class="rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm">
          <option>All Message Types</option>
          <option>Post</option>
          <option>Comment</option>
          <option>DM</option>
        </select>
      </div>
    </div>

    <!-- KPI Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      <div class="bg-[var(--card)] p-6 rounded-2xl shadow-lg flex flex-col">
        <div class="flex items-start justify-between">
          <p class="text-sm text-white/80">Total Mentions</p>
          <span class="text-xs text-white/60">Last 7d</span>
        </div>
        <div class="mt-3 flex items-baseline justify-between">
          <h3 class="text-2xl font-bold">1,254</h3>
          <div class="text-sm text-green-400 font-semibold">+12.4%</div>
        </div>
        <p class="text-white/70 text-sm mt-2">Direct mentions across channels</p>
        <div class="mt-4 flex justify-end">
          <button data-scroll-to="#postPerformanceTable" class="view-details-btn rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm hover:bg-[var(--accent)]">View details</button>
        </div>
      </div>

      <div class="bg-[var(--card)] p-6 rounded-2xl shadow-lg flex flex-col">
        <div class="flex items-start justify-between">
          <p class="text-sm text-white/80">Follower Growth</p>
          <span class="text-xs text-white/60">Last 7d</span>
        </div>
        <div class="mt-3 flex items-baseline justify-between">
          <h3 class="text-2xl font-bold">+1.8k</h3>
          <div class="text-sm text-green-400 font-semibold">+3.2%</div>
        </div>
        <p class="text-white/70 text-sm mt-2">Net follower change across platforms</p>
        <div class="mt-4 flex justify-end">
          <button data-scroll-to="#postPerformanceTable" class="view-details-btn rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm hover:bg-[var(--accent)]">View details</button>
        </div>
      </div>

      <div class="bg-[var(--card)] p-6 rounded-2xl shadow-lg flex flex-col">
        <div class="flex items-start justify-between">
          <p class="text-sm text-white/80">Total Engagement</p>
          <span class="text-xs text-white/60">Last 7d</span>
        </div>
        <div class="mt-3 flex items-baseline justify-between">
          <h3 class="text-2xl font-bold">35,240</h3>
          <div class="text-sm text-green-400 font-semibold">+6.1%</div>
        </div>
        <p class="text-white/70 text-sm mt-2">Likes + Comments + Shares</p>
        <div class="mt-4 flex justify-end">
          <button data-scroll-to="#postPerformanceTable" class="view-details-btn rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm hover:bg-[var(--accent)]">View details</button>
        </div>
      </div>

      <div class="bg-[var(--card)] p-6 rounded-2xl shadow-lg flex flex-col">
        <div class="flex items-start justify-between">
          <p class="text-sm text-white/80">Total Reach</p>
          <span class="text-xs text-white/60">Last 7d</span>
        </div>
        <div class="mt-3 flex items-baseline justify-between">
          <h3 class="text-2xl font-bold">420,512</h3>
          <div class="text-sm text-green-400 font-semibold">+8.8%</div>
        </div>
        <p class="text-white/70 text-sm mt-2">Estimated unique users reached</p>
        <div class="mt-4 flex justify-end">
          <button data-scroll-to="#postPerformanceTable" class="view-details-btn rounded-full bg-[var(--muted)] px-4 py-2 text-white text-sm hover:bg-[var(--accent)]">View details</button>
        </div>
      </div>
    </div>

    <!-- Public & Private messages tables (with Replied column) -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
      <!-- Public -->
      <section class="bg-[var(--card)] p-6 rounded-2xl shadow-lg">
        <h2 class="text-lg font-semibold mb-4">Public Messages</h2>
        <div class="overflow-x-auto">
          <table class="w-full text-left text-sm">
            <thead>
              <tr class="border-b border-white/10">
                <th class="py-3 px-3 text-white/80">Message</th>
                <th class="py-3 px-3 text-white/80">Sentiment</th>
                <th class="py-3 px-3 text-white/80">Source</th>
                <th class="py-3 px-3 text-white/80">Date</th>
                <th class="py-3 px-3 text-white/80">Replied</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b border-white/10">
                <td class="py-4 px-3 text-white/90">Excited about the new product launch!</td>
                <td class="py-4 px-3"><span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs">Positive</span></td>
                <td class="py-4 px-3 text-white/90">Twitter</td>
                <td class="py-4 px-3 text-white/90">2023-09-15</td>
                <td class="py-4 px-3 text-white/90">Yes</td>
              </tr>
              <tr class="border-b border-white/10">
                <td class="py-4 px-3 text-white/90">Disappointed with the recent service update.</td>
                <td class="py-4 px-3"><span class="bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-xs">Negative</span></td>
                <td class="py-4 px-3 text-white/90">Facebook</td>
                <td class="py-4 px-3 text-white/90">2023-09-14</td>
                <td class="py-4 px-3 text-white/90">No</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Private -->
      <section class="bg-[var(--card)] p-6 rounded-2xl shadow-lg">
        <h2 class="text-lg font-semibold mb-4">Private Messages</h2>
        <div class="overflow-x-auto">
          <table class="w-full text-left text-sm">
            <thead>
              <tr class="border-b border-white/10">
                <th class="py-3 px-3 text-white/80">Message</th>
                <th class="py-3 px-3 text-white/80">Sentiment</th>
                <th class="py-3 px-3 text-white/80">Source</th>
                <th class="py-3 px-3 text-white/80">Date</th>
                <th class="py-3 px-3 text-white/80">Replied</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b border-white/10">
                <td class="py-4 px-3 text-white/90">Received a positive message about customer support.</td>
                <td class="py-4 px-3"><span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs">Positive</span></td>
                <td class="py-4 px-3 text-white/90">Email</td>
                <td class="py-4 px-3 text-white/90">2023-09-15</td>
                <td class="py-4 px-3 text-white/90">Yes</td>
              </tr>
              <tr class="border-b border-white/10">
                <td class="py-4 px-3 text-white/90">A user expressed dissatisfaction with the delivery time.</td>
                <td class="py-4 px-3"><span class="bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-xs">Negative</span></td>
                <td class="py-4 px-3 text-white/90">Chat</td>
                <td class="py-4 px-3 text-white/90">2023-09-14</td>
                <td class="py-4 px-3 text-white/90">No</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>

    <!-- Word clouds -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
      <div class="bg-[var(--card)] p-6 rounded-2xl shadow-lg">
        <h3 class="text-lg font-semibold mb-4">Positive Keywords</h3>
        <div class="h-64 flex items-center justify-center text-white/50">Placeholder Word Cloud (fake graphic)</div>
      </div>
      <div class="bg-[var(--card)] p-6 rounded-2xl shadow-lg">
        <h3 class="text-lg font-semibold mb-4">Negative Keywords</h3>
        <div class="h-64 flex items-center justify-center text-white/50">Placeholder Word Cloud (fake graphic)</div>
      </div>
    </div>

    <!-- Individual Post Performance -->
    <section id="postPerformanceTable" class="bg-[var(--card)] p-6 rounded-2xl shadow-lg mb-8">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-2xl font-bold">Individual Post Performance</h2>
        <p class="text-white/70 text-sm">Click “View” to inspect a post</p>
      </div>

      <div class="overflow-x-auto">
        <table class="w-full text-left table-auto text-sm">
          <thead>
            <tr class="border-b border-white/10">
              <th class="py-3 px-3 text-white/80">Post</th>
              <th class="py-3 px-3 text-white/80">Platform</th>
              <th class="py-3 px-3 text-white/80">Date</th>
              <th class="py-3 px-3 text-white/80">Impressions</th>
              <th class="py-3 px-3 text-white/80">Engagements</th>
              <th class="py-3 px-3 text-white/80">Likes</th>
              <th class="py-3 px-3 text-white/80">Comments</th>
              <th class="py-3 px-3 text-white/80">Shares</th>
              <th class="py-3 px-3 text-white/80">Sentiment</th>
              <th class="py-3 px-3 text-white/80">Replied</th>
              <th class="py-3 px-3 text-white/80">Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- row 1 -->
            <tr class="border-b border-white/10">
              <td class="py-4 px-3 text-white/90 max-w-xs">New product launch — check out the features!</td>
              <td class="py-4 px-3 text-white/90">Twitter</td>
              <td class="py-4 px-3 text-white/90">2023-09-15</td>
              <td class="py-4 px-3 text-white/90">45,200</td>
              <td class="py-4 px-3 text-white/90">4,120</td>
              <td class="py-4 px-3 text-white/90">3,210</td>
              <td class="py-4 px-3 text-white/90">620</td>
              <td class="py-4 px-3 text-white/90">290</td>
              <td class="py-4 px-3"><span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs">Positive</span></td>
              <td class="py-4 px-3 text-white/90">Yes</td>
              <td class="py-4 px-3">
                <button class="view-post-btn rounded-full bg-[var(--accent)] px-3 py-1 text-white text-sm"
                        data-post='{"text":"New product launch — check out the features!","platform":"Twitter","date":"2023-09-15","impressions":"45200","engagements":"4120","likes":"3210","comments":"620","shares":"290","sentiment":"Positive","replied":"Yes"}'>
                  View
                </button>
              </td>
            </tr>

            <!-- row 2 -->
            <tr class="border-b border-white/10">
              <td class="py-4 px-3 text-white/90">We are sorry for the delay in delivery. DM us.</td>
              <td class="py-4 px-3 text-white/90">Facebook</td>
              <td class="py-4 px-3 text-white/90">2023-09-14</td>
              <td class="py-4 px-3 text-white/90">12,900</td>
              <td class="py-4 px-3 text-white/90">640</td>
              <td class="py-4 px-3 text-white/90">120</td>
              <td class="py-4 px-3 text-white/90">340</td>
              <td class="py-4 px-3 text-white/90">180</td>
              <td class="py-4 px-3"><span class="bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-xs">Negative</span></td>
              <td class="py-4 px-3 text-white/90">No</td>
              <td class="py-4 px-3">
                <button class="view-post-btn rounded-full bg-[var(--accent)] px-3 py-1 text-white text-sm"
                        data-post='{"text":"We are sorry for the delay in delivery. DM us.","platform":"Facebook","date":"2023-09-14","impressions":"12900","engagements":"640","likes":"120","comments":"340","shares":"180","sentiment":"Negative","replied":"No"}'>
                  View
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- AI Insights -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
      <div class="bg-[var(--ai-bg)] p-6 rounded-2xl shadow-lg border border-[var(--accent)]/50">
        <h3 class="text-lg font-bold mb-2">AI Summary - Positive</h3>
        <p class="text-white/80 text-sm">Customers are excited about the product launch and praise quick support responses.</p>
      </div>
      <div class="bg-[var(--ai-bg)] p-6 rounded-2xl shadow-lg border border-[var(--accent)]/50">
        <h3 class="text-lg font-bold mb-2">AI Summary - Negative</h3>
        <p class="text-white/80 text-sm">Complaints about delivery times and recent service changes are driving negative sentiment.</p>
      </div>
      <div class="bg-[var(--ai-bg)] p-6 rounded-2xl shadow-lg border border-[var(--accent)]/50">
        <h3 class="text-lg font-bold mb-2">AI Recommendation</h3>
        <p class="text-white/80 text-sm">Prioritize performance fixes and targeted outreach to affected customers.</p>
      </div>
    </div>

    <!-- Export buttons -->
    <div class="flex gap-4">
      <button class="rounded-full bg-[var(--accent)] px-5 py-2.5 text-white text-sm font-bold">Export Dashboard → PDF</button>
      <button class="rounded-full bg-[var(--muted)] px-5 py-2.5 text-white text-sm font-bold hover:bg-[var(--accent)]">Export Table → Excel</button>
    </div>
  </main>
</div>

<!-- Post detail modal -->
<div id="postModal" class="fixed inset-0 hidden items-center justify-center z-50">
  <div class="absolute inset-0 bg-black/60"></div>
  <div class="relative w-full max-w-2xl mx-auto bg-[#0f1a1f] rounded-2xl shadow-2xl p-6 z-50">
    <div class="flex items-start justify-between mb-4">
      <h3 id="modalTitle" class="text-white text-xl font-bold">Post details</h3>
      <button id="closeModal" class="text-white/60 hover:text-white">✕</button>
    </div>
    <div class="space-y-3 text-white/90">
      <p id="modalText" class="text-sm"></p>
      <div class="grid grid-cols-2 gap-4">
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Platform</p>
          <p id="modalPlatform" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Date</p>
          <p id="modalDate" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Impressions</p>
          <p id="modalImpr" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Engagements</p>
          <p id="modalEng" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Likes</p>
          <p id="modalLikes" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Comments</p>
          <p id="modalComments" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Shares</p>
          <p id="modalShares" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg">
          <p class="text-xs text-white/60">Sentiment</p>
          <p id="modalSentiment" class="text-white font-semibold"></p>
        </div>
        <div class="bg-[var(--card)] p-4 rounded-lg col-span-2">
          <p class="text-xs text-white/60">Replied</p>
          <p id="modalReplied" class="text-white font-semibold"></p>
        </div>
      </div>
    </div>
    <div class="mt-6 flex justify-end">
      <button id="closeModal2" class="rounded-full bg-[var(--accent)] px-4 py-2 text-white text-sm">Close</button>
    </div>
  </div>
</div>

<script>
  // scroll-to for KPI "View details"
  document.querySelectorAll('.view-details-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const target = btn.getAttribute('data-scroll-to');
      if(target){
        document.querySelector(target).scrollIntoView({behavior:'smooth', block:'start'});
      }
    });
  });

  // Modal logic for Individual Post Performance
  const modal = document.getElementById('postModal');
  const closeModal = () => modal.classList.add('hidden');
  document.getElementById('closeModal').addEventListener('click', closeModal);
  document.getElementById('closeModal2')?.addEventListener('click', closeModal);

  document.querySelectorAll('.view-post-btn').forEach(btn=>{
    btn.addEventListener('click', () => {
      try {
        const data = JSON.parse(btn.getAttribute('data-post'));
        document.getElementById('modalText').textContent = data.text || '';
        document.getElementById('modalPlatform').textContent = data.platform || '';
        document.getElementById('modalDate').textContent = data.date || '';
        document.getElementById('modalImpr').textContent = data.impressions || '';
        document.getElementById('modalEng').textContent = data.engagements || '';
        document.getElementById('modalLikes').textContent = data.likes || '';
        document.getElementById('modalComments').textContent = data.comments || '';
        document.getElementById('modalShares').textContent = data.shares || '';
        document.getElementById('modalSentiment').textContent = data.sentiment || '';
        document.getElementById('modalReplied').textContent = data.replied || '';
        modal.classList.remove('hidden');
        window.scrollTo({top:0, behavior:'smooth'});
      } catch (e) {
        console.error('Invalid post data', e);
      }
    });
  });

  // close modal on background click
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
  });
</script>

</body>
</html>
